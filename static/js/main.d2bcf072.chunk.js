(this.webpackJsonpmovier=this.webpackJsonpmovier||[]).push([[0],{55:function(e,a,t){e.exports=t(72)},60:function(e,a,t){},61:function(e,a,t){},68:function(e,a,t){},69:function(e,a,t){},70:function(e,a,t){},71:function(e,a,t){},72:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(7),l=t.n(c),i=(t(60),t(20)),s=t(12),o=(t(61),t(106)),m=[{value:"movie",label:"Movie"},{value:"series",label:"Series"},{value:"episode",label:"Episode"}],u=t(107),v=t(105);var d=function(e){var a=e.searchMovie,t=Object(n.useState)(""),c=Object(s.a)(t,2),l=c[0],i=c[1],d=Object(n.useState)(""),f=Object(s.a)(d,2),p=f[0],E=f[1],b=Object(n.useState)(""),O=Object(s.a)(b,2),g=O[0],h=O[1];return r.a.createElement("div",{className:"search-component"},r.a.createElement(o.a,{value:l,onChange:function(e){return i(e.target.value)},type:"search",variant:"outlined",label:"Search field",className:"search-element-high search-element"}),r.a.createElement(o.a,{id:"standard-select-currency",select:!0,label:"Type",value:g,variant:"outlined",onChange:function(e){return h(e.target.value)},className:"search-element"},m.map((function(e){return r.a.createElement(u.a,{key:e.value,value:e.value},e.label)}))),r.a.createElement(o.a,{value:p,label:"Year",variant:"outlined",onChange:function(e){return E(e.target.value)},className:"search-element"}),r.a.createElement(v.a,{variant:"contained",color:"primary",onClick:function(){a({name:l,year:p,type:g})},className:"search-element"},"Search"))},f=t(33),p=t(29),E=Object(n.createContext)(),b=localStorage.getItem("fav")?JSON.parse(localStorage.getItem("fav")):{},O=function(e,a){if("ADD_FAV"===a.type){var t=a.payload||{},n=t.id,r=t.title,c=t.year,l=t.poster;return Object(p.a)(Object(p.a)({},e),{},Object(f.a)({},n,{title:r,year:c,poster:l}))}return"REMOVE_FAV"===a.type?(console.log(delete e[a.payload.id]),console.log(e),Object(p.a)({},e)):e};function g(e){var a=e.children,t=Object(n.useReducer)(O,b),c=Object(s.a)(t,2),l=c[0],i=c[1],o={fav:l,addFavMovie:function(e){var a=e.title,t=e.poster,n=e.id,r=e.year;i({type:"ADD_FAV",payload:{title:a,poster:t,id:n,year:r}}),localStorage.setItem("fav",JSON.stringify(Object(p.a)(Object(p.a)({},l),{},Object(f.a)({},n,{title:a,poster:t,id:n,year:r}))))},removeFavMovie:function(e){i({type:"REMOVE_FAV",payload:{id:e}}),localStorage.setItem("fav",JSON.stringify(l))}};return r.a.createElement(E.Provider,{value:o},a)}var h=t(9);var j=function(e){var a=e.movieDetail,t=a.Poster,c=a.Title,l=a.Year,i=a.imdbID,s=e.favTypeCard,o=void 0===s||s,m=c,u=Object(h.f)(),v=Object(n.useContext)(E),d=v.addFavMovie,f=v.fav,p=v.removeFavMovie;return c.length>25&&(m=c.substring(0,25)+".."),r.a.createElement("div",{className:"card card-shadow flx-20",onClick:function(){u.push("/".concat(i))}},r.a.createElement("div",{className:"m-card-container"},r.a.createElement("div",{className:"m-card-img-container"},r.a.createElement("img",{src:t,alt:c,className:"m-img"})),r.a.createElement("p",{className:"m-heading"},m),r.a.createElement("p",{className:"m-subheading"},l),o?r.a.createElement("div",{className:"m-like-container"},r.a.createElement("i",{className:"fas fa-heart ".concat(f[i]?"liked":""),onClick:function(e){e.stopPropagation(),f[i]?p(i):d({title:c,year:l,poster:t,id:i})}})):null))},y=t(34),N=t.n(y),S=t(42),x=function(){var e=Object(S.a)(N.a.mark((function e(a){var t,n,r,c,l,i,s,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.name,n=void 0===t?"":t,r=a.year,c=void 0===r?"":r,l=a.type,i=void 0===l?"":l,e.next=3,fetch("".concat("http://omdbapi.com","/?s=").concat(n,"&type=").concat(i,"&y=").concat(c,"&apikey=").concat("63aa9c17"));case 3:return s=e.sent,e.next=6,s.json();case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),k=function(){var e=Object(S.a)(N.a.mark((function e(a){var t,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://omdbapi.com","/?i=").concat(a,"&apikey=").concat("63aa9c17"));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();t(68);var C=function(e){var a=e.type,t=e.message;return r.a.createElement("div",{className:"message-container"},r.a.createElement("div",{className:"image-container"},"error"===a?r.a.createElement("i",{className:"fas fa-exclamation-triangle"}):r.a.createElement("i",{className:"fas fa-spinner"})),r.a.createElement("div",{className:"message-text"},"error"===a?t||"Something went wrong":"Please wait loading..."))};var D=function(){var e=Object(n.useState)([]),a=Object(s.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(!1),i=Object(s.a)(l,2),o=i[0],m=i[1],u=Object(n.useState)(!1),v=Object(s.a)(u,2),f=v[0],p=v[1],E=Object(n.useState)(""),b=Object(s.a)(E,2),O=b[0],g=b[1];return Object(n.useEffect)((function(){p(!0),x({name:"Marvel"}).then((function(e){c(e.Search),p(!1)}))}),[]),f?r.a.createElement(C,{type:"loading"}):r.a.createElement("div",null,r.a.createElement(d,{searchMovie:function(e){p(!0),m(!1),x(e).then((function(e){"True"===e.Response?(c(e.Search),g("")):(g(e.Error),m(!0)),p(!1)}))}}),o?r.a.createElement(C,{type:"error",message:O}):r.a.createElement("div",{className:"m-list"},t.map((function(e){return r.a.createElement(j,{key:e.imdbID,movieDetail:e})}))))};t(69);var F=function(){var e=Object(n.useContext)(E).fav;return r.a.createElement("div",{className:"m-navbar"},r.a.createElement(i.b,{to:"/"},r.a.createElement("div",{className:"m-navbar-heading"},"OMDB")),r.a.createElement("div",{className:"m-navbar-action m-action-left m-navbar-action-b"},r.a.createElement(i.b,{to:"/fav"},"Fav"),r.a.createElement("div",{className:"badge"},r.a.createElement("div",{className:"count-container count"},Object.keys(e).length))))};var M=function(e){var a=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,null,r.a.createElement(F,null),r.a.createElement("div",{className:"app-container"},a)))};var w=function(){var e=Object(n.useContext)(E).fav,a=Object.keys(e).map((function(a){var t=e[a],n=t.title,r=t.year;return{imdbID:a,Title:n,Poster:t.poster,Year:r}}));return r.a.createElement("div",{className:"m-list"},a.map((function(e){return r.a.createElement(j,{key:e.imdbID,movieDetail:e,favTypeCard:!1})})))};var I=function(){var e=Object(n.useState)(!1),a=Object(s.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)({}),i=Object(s.a)(l,2),o=i[0],m=i[1],u=Object(n.useState)(!1),v=Object(s.a)(u,2),d=v[0],f=v[1],p=Object(n.useState)(""),E=Object(s.a)(p,2),b=E[0],O=E[1],g=Object(h.g)().id;return Object(n.useEffect)((function(){f(!1),c(!0),k(g).then((function(e){console.log(e),c(!1),"False"===e.Response?(f(!0),O(e.Error)):m(e)}))}),[]),t?r.a.createElement(C,null):d?r.a.createElement(C,{type:"error",message:b}):r.a.createElement("div",{className:"m-detail-container"},r.a.createElement("div",{className:"card flx m-detail-poster"},r.a.createElement("img",{src:o.Poster,className:"m-img",alt:o.Title})),r.a.createElement("div",{className:"m-detail flx-50"},r.a.createElement("p",{className:"m-detail-heading "},o.Title),r.a.createElement("div",{className:"m-subheading"},r.a.createElement("p",null,o.Year),r.a.createElement("p",null,o.Genre),r.a.createElement("div",{className:"m-detail-actor"},o.Actors),r.a.createElement("div",{className:"m-detail-plot"},o.Plot))))},T=(t(70),t(71),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(M,null,r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/",exact:!0},r.a.createElement(D,null)),r.a.createElement(h.a,{path:"/fav",exact:!0},r.a.createElement(w,null)),r.a.createElement(h.a,{path:"/:id"},r.a.createElement(I,null)))))});l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,null,r.a.createElement(T,null)),","),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.d2bcf072.chunk.js.map